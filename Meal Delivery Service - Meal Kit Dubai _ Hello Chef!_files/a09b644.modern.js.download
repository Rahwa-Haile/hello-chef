(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{551:function(t,e,o){"use strict";var n={props:["permanent","primary","text","top"],computed:{headerHeight(){return this.top||this.$store.state.elements.appHeaderHeight}},mounted(){this.$store.dispatch("events/track",{event:"Notification Displayed",properties:{permanent:this.permanent,primary:this.primary,text:this.text}})}},r=o(5),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row text-white text-center text-17 desktop:text-20 leading-20 desktop:leading-24 fixed pin-t pin-x py-11 desktop:py-11 px-gutter-2x desktop:px-gutter-2x z-20",class:t.primary?"bg-primary":"bg-secondary",style:{top:t.headerHeight+"px"}},[n("div",{staticClass:"col-10 text-center ml-auto",domProps:{innerHTML:t._s(t.text)}}),t._v(" "),n("div",{staticClass:"col-1 text-right"},[t.permanent?t._e():n("button",{staticClass:"leading-0 text-white",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[n("vector",{staticClass:"h-16 w-16 desktop:h-16 desktop:w-16",attrs:{src:o(311),alt:"close"}})],1)])])}),[],!1,null,null,null);e.a=component.exports},557:function(t,e,o){"use strict";var n={props:["minimal","value","maxRecipes"]},r=o(5),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[t.minimal?t._e():n("strong",{staticClass:"inline-block mb-5 desktop:mb-6"},[t._v("Recipes Chosen")]),t._v(" "),n("div",t._l(t.maxRecipes,(function(e){return n("vector",{key:e,staticClass:"h-16 desktop:h-16 mr-8 desktop:mr-8",attrs:{"svg-class":t.value<e?"text-gray-10":"text-green",src:o(313),alt:"check mark"}})})),1)])}),[],!1,null,null,null);e.a=component.exports},574:function(t,e,o){t.exports={"link-active":"nopurge_link-active_mevP5qlQ",link:"nopurge_link_155oUfa_"}},635:function(t,e,o){"use strict";var n=o(574),r=o.n(n);o.d(e,"default",(function(){return r.a}))},654:function(t,e,o){"use strict";o.r(e);o(22);var n=o(11),r=o(4),c=o(197),l={props:["disabled","number","text","to"]},d=o(635),h=o(5);var m=Object(h.a)(l,(function(){var t,e=this,o=e.$createElement,n=e._self._c||o;return n(e.disabled?"div":"nuxt-link",{tag:"component",staticClass:"inline-flex flex-col items-center h-full w-full desktop:w-128 relative",class:(t={},t[e.$style.link]=!e.disabled,t),attrs:{to:e.to,"active-class":e.$style["link-active"]}},[n("div",{staticClass:"desktop:h-32 desktop:w-32 flex items-center justify-center desktop:border-2 desktop:rounded-full desktop:mt-8 mobile:hidden"},[e._v("\n    "+e._s(e.number)+"\n  ")]),e._v(" "),n("span",{staticClass:"font-light desktop:mt-10"},[e._v(e._s(e.text))]),e._v(" "),n("span",{staticClass:"absolute pin-b pin-x w-full desktop:w-128 border-t-4 desktop:border-t-4 border-secondary rounded-t desktop:rounded-t-lg mx-auto invisible"})])}),[],!1,(function(t){this.$style=d.default.locals||d.default}),null,null).exports,k=o(93),f=o(551),v=o(557),x=o(53),y=o(67),C=o(14);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={components:{CheckoutHeaderLink:m,Logo:k.a,Notification:f.a,RecipesChosen:v.a},validate(t){var{params:e}=t;return!!e.id},scrollToTop:!0,data:()=>({notifySelection:!1}),fetch:t=>Object(r.a)((function*(){var{app:e,error:o,route:n,store:r}=t;try{r.commit("cart/".concat(x.SET_IS_CONVERTING),!0),r.commit("cart/".concat(x.SET_PRODUCT),(yield e.$api.products.getById(n.params.id,{cache:!0})).item)}catch(t){console.error(t),e.$sentry.captureException(t),o({message:"The requested box doesn't exist.",statusCode:404})}}))(),head(){return{script:[{pBody:!0,src:"https://cdn.checkout.com/js/framesv2.min.js"}],title:"Order your Meal Plan Recipe Box | ".concat(this.$route.params.id>3?"Classic Box":"Choice Box"," | Hello Chef!")}},computed:w(w(w(w(w(w({},Object(C.b)("auth",["isAuthenticated"])),Object(C.b)("cart",["deliveryValid","preferenceValid","selectRecipesValid"])),Object(C.d)("auth",["referralDiscountableCode"])),Object(C.d)("cart",["couponCode","recipes","submitting"])),Object(C.d)("elements",["checkoutHeaderHeight","recipesChosenInHeader"])),{},{canContinue(){return"checkout-id-select-recipes"!==this.$route.name||this.selectRecipesValid},discount(){return this.referralDiscountableCode?100:this.couponCode?Object(c.a)(this.couponCode)||void 0:0},showContinue(){return"checkout-id-pay"!==this.$route.name},showRecipesChosen(){return"checkout-id-select-recipes"===this.$route.name&&this.recipesChosenInHeader}}),watch:{notifySelection(t){t&&setTimeout((()=>this.notifySelection=!1),2e3)}},mounted(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeDestroy(){window.removeEventListener("resize",this.handleResize),window.Intercom&&window.Intercom("trackEvent","abandonCart")},methods:w(w({},Object(C.c)("elements",[y.SET_CHECKOUT_HEADER_HEIGHT])),{},{handleResize(){this[y.SET_CHECKOUT_HEADER_HEIGHT](this.$refs.header.getBoundingClientRect().height)},submit(){this.$refs.child.submit()}})},H=Object(h.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bg-background mobile:min-h-screen"},[o("header",{ref:"header",staticClass:"bg-white shadow-md desktop:shadow-md px-gutter desktop:px-gutter-2x fixed pin-t pin-x z-30"},[o("nav",{staticClass:"row flex justify-between desktop:items-center h-80 desktop:h-80 mobile:pt-gutter"},[o("div",{staticClass:"col-6 desktop:col-2 mobile:pt-4"},[o("nuxt-link",{attrs:{to:"/"}},[o("logo",{staticClass:"h-20 desktop:h-20"})],1)],1),t._v(" "),o("div",{staticClass:"col-6 text-right desktop:hidden"},[t.showContinue?o("button",{staticClass:"btn btn-cta btn-slim",attrs:{disabled:t.submitting||!t.canContinue,type:"button"},on:{click:t.submit}},[t._v("\n          Continue\n        ")]):t._e()]),t._v(" "),t.showRecipesChosen?o("div",{staticClass:"col-12 desktop:col-8"},[o("recipes-chosen",{attrs:{value:t.recipes.length,minimal:!0}})],1):[o("div",{staticClass:"mobile:px-gutter desktop:h-full text-center mobile:text-11 "},[o("checkout-header-link",{staticClass:"desktop:w-100",attrs:{to:"/checkout/"+t.$route.params.id+"/sign-up",disabled:t.isAuthenticated,number:"1",text:"Sign Up"}})],1),t._v(" "),o("div",{staticClass:"mobile:px-gutter desktop:h-full text-center mobile:text-11"},[o("checkout-header-link",{attrs:{to:"/checkout/"+t.$route.params.id+"/preferences",disabled:!t.isAuthenticated,number:"2",text:"Preferences"}})],1),t._v(" "),o("div",{staticClass:"mobile:px-gutter desktop:h-full text-center mobile:text-11"},[o("checkout-header-link",{staticClass:"mobile:hidden",attrs:{to:"/checkout/"+t.$route.params.id+"/select-recipes",disabled:!t.isAuthenticated,number:"3",text:"Select Recipes"}}),t._v(" "),o("checkout-header-link",{staticClass:"desktop:hidden",attrs:{to:"/checkout/"+t.$route.params.id+"/select-recipes",disabled:!t.isAuthenticated,number:"3",text:"Recipes"}})],1),t._v(" "),o("div",{staticClass:"mobile:px-gutter desktop:h-full text-center mobile:text-11"},[o("checkout-header-link",{attrs:{to:"/checkout/"+t.$route.params.id+"/delivery",disabled:!t.isAuthenticated,number:"4",text:"Delivery"}})],1),t._v(" "),o("div",{staticClass:"mobile:px-gutter desktop:h-full text-center mobile:text-11"},[o("checkout-header-link",{attrs:{to:"/checkout/"+t.$route.params.id+"/pay",disabled:!t.isAuthenticated||!t.deliveryValid||!t.selectRecipesValid,number:"5",text:"Pay"}})],1)],t._v(" "),o("div",{staticClass:"col-2 text-right mobile:hidden"},[t.showContinue?o("button",{staticClass:"btn btn-cta btn-slim desktop:pt-15 desktop:pb-17",attrs:{disabled:t.submitting||!t.canContinue,type:"button"},on:{click:t.submit}},[t._v("\n          Continue\n        ")]):t._e()])],2)]),t._v(" "),o("transition",{attrs:{name:"vue-fade",appear:""}},[(t.discount>0||void 0===t.discount)&&"checkout-id-pay"!==t.$route.name?o("section",{staticClass:"pt-82 desktop:pt-46"},[80===t.discount?o("notification",{attrs:{text:"An AED200 discount has been split across your first 3 boxes!",permanent:!0,primary:!0,top:t.checkoutHeaderHeight}}):75===t.discount?o("notification",{attrs:{text:"Order now & save AED150! <span class='mobile:text-15'>AED"+t.numeral(t.discount).format("0,0[.]00")+" off your 1st & 2nd box</span>",permanent:!0,primary:!0,top:t.checkoutHeaderHeight}}):t.discount>0?o("notification",{attrs:{text:"Your AED "+t.numeral(t.discount).format("0,0[.]00")+" discount will be automatically added to your cart!",permanent:!0,primary:!0,top:t.checkoutHeaderHeight}}):o("notification",{attrs:{text:"Your discount will be automatically added to your cart!",permanent:!0,primary:!0,top:t.checkoutHeaderHeight}})],1):t._e()]),t._v(" "),o("transition",[t.notifySelection?o("section",{staticClass:"pt-82 desktop:pt-46"},[o("notification",{attrs:{primary:!0,top:t.checkoutHeaderHeight,text:"Please deselect a recipe first"},on:{close:function(e){t.notifySelection=!1}}})],1):t._e()]),t._v(" "),o("nuxt-child",{ref:"child",on:{notif:function(e){return t.notifySelection=e}}})],1)}),[],!1,null,null,null);e.default=H.exports}}]);